FROM python:3.7-slim-stretch

# Set Python3 path variable
ENV PYTHONPATH=/app

# Change working directory
WORKDIR /app

# Install dependencies
RUN apt-get -qy update \
    && apt-get -qy install \
        build-essential \
        hdf5-tools \
        libhdf5-serial-dev \
        zlib1g

# Copy requirements
COPY requirements.txt .

# Upgrade pip, and install requirements
RUN pip3 install --upgrade \
      setuptools \
      pip \
    && pip3 install -r requirements.txt

# Copy everything else
COPY . .

# Install package
RUN python3 setup.py install

ENTRYPOINT ["dummy"]
